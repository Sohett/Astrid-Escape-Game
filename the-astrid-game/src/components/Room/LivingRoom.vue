<template lang="pug">
  div
    h1
      b La salle de s√©jour/salon üõãÔ∏è
    h3
     u Indice
    h2 Tu pr√©tends bien conna√Ætre Bruxelles, prouve le üó∫Ô∏èüñºÔ∏è
    hr
    p ‚ÑπÔ∏èGoogle Maps est autoris√©
    ol
      li Mannekenpis
      li Les Serres Royales de Bruxelles
      li Le Parc Astrid
      li Le Chalet Robinson
      li Le Planetarium de Bruxelles
      li Le SNUB
      li La Basilique de Koekelberg
      li Le Cimeti√®re de Bruxelles
      li Le Parc Parmentier
      li La Gare du Midi
    h3
      u Ta r√©ponse:
    <el-form :model="livingRoomForm1" :rules="rules1" ref="livingRoomForm1" label-width="120px" label-position="top">
      <el-form-item prop="name">
        <el-input placeholder="La r√©ponse est du style '9H7JSV23L5'" v-model="livingRoomForm1.name"></el-input>
      </el-form-item>
      <el-form-item>
        <el-button type="primary" @click="submitForm1">Soumettre ma r√©ponse<i class="el-icon-arrow-right el-icon-right"></i></el-button>
      </el-form-item>
    </el-form>
</template>

<script>
  import { mapActions } from 'vuex'

  export default {
    data() {
      var validateBrusselsMapQuestion = (rule, value, callback) => {
        if (value.length != 10) {
          callback(new Error('La r√©ponse doit √™tre 10 charact√®res'));
        } else if (value.toUpperCase() != 'R4C79ZG2HK') {
          callback(new Error('Mauvaise r√©ponse'));
        } else {
          callback();
        }
      };
      return {
        livingRoomForm1: {
          name: ''
        },
        rules1: {
          name: [
            { required: true, validator: validateBrusselsMapQuestion, trigger: 'blur' },
          ],
        }
      }
    },
    name: 'LivingRoom',
    methods: {
      ...mapActions(['incrementStep']),
      submitForm1() {
        this.$refs.livingRoomForm1.validate((valid) => {
          if (valid) {
            this.$message({
              message: 'Bonne r√©ponse. 2eme question ...',
              type: 'success'
            });
            this.incrementStep();
          } else {
            return false;
          }
        });
      }
    }
  }
</script>

<style>
  ol {
    margin-left: -35px;
  }
</style>
